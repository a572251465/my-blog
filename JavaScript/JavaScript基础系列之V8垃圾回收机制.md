## V8垃圾回收机制

### 1. 垃圾回收机制的分类：
- 手动回收 (C语言)
- 自动回收 (Java语言，JavaScript语言)
> JavaScript中原始数据类型存放到栈中，但是引用数据类型存放到堆中。既然存放的位置不一样，那么垃圾回收机制的策略是不同的

### 3. 垃圾分配
- 栈
  1. 栈中分配的空间是通过移动上下文指针来销毁占用的空间
- 堆
  1. "代际假说"：
    - 第一个是大部分对象在内存中存在的时间很短，简单来说，就是很多对象一经分配内存，很快变为不可访问对象
    - 第二个是不死的对象，会活的更久
  2. 主要是通过主垃圾回收器（老生代）以及副垃圾回收器（新生代）。
  3. 副垃圾回收器采用算法将空间分为对象区域和空闲区域
    - 垃圾回收的过程中，在对象区域标记活动对象以及非活动对象，之后，将活动对象复制到空闲区域，然后角色反转，完全清理掉对象区域的内存，其实这样就可以无限的循环下去了
    - JavaScript引擎采用了对象晋升策略，如果在新生代中经过两次反转回收还存在的对象， 会被移动到老生区内