## 闭包
> 简单说下什么叫闭包，闭包出现的意义？闭包有哪些用途

### 1. 什么叫闭包
- 能够访问自由变量的函数就是闭包。自由变量：能访问到某个变量，但是这个变量既不是函数内部定义，也不是函数参数
- 变量所在的上下文被销毁，但是依旧能访问到该变量

> 从技术的角度来讲，任何函数都是一种闭包。如下例：
```js
function a() {
  const test = '1'
  function b() {
    console.log(test) // 闭包。可以通过chrome devtools 来断点
  }
}
```

### 2. 闭包意义
> 闭包的意义在于 保护 + 保存。 定义在闭包内的变量是不能够让外部访问的这是保护。同时闭包内的变量使用后也不能被销毁的这是保存

```js
function run() {
  let count = 0
  return function() {
    count ++
  }
}

const counter = run()
counter() // 1
counter() // 2
```
- 上述实例中变量`count`的内存变量一直得不到释放。 会一直保存在闭包中

### 3. 闭包用途
- 封装：使用闭包封装功能。将部分功能返回供外部使用
- 模拟作用域：在es6之前没有出现块级作用域。可以使用闭包模拟作用域

### 4. 问题
- 就是因为闭包有保存的作用，使得内部变量占用内存无法释放，所以过多的使用闭包会造成内存溢出
- 部门功能可以使用let/ const 来替代闭包